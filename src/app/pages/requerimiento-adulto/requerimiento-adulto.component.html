<div class="row">
    <div class="col-12">
        <h4>{{ 'TITLES.ADULT_REQUIREMENT' | translate }}</h4>
    </div>
</div>
<hr>
<form [formGroup]="reqAdultoForm" (ngSubmit)="calcularRequerimientoAdulto()" *ngIf="!respuesta">
    <div class="form-row">
        <div class="form-group col-md-3" *ngIf="!tienePersona">
            <label>{{ 'PAGES.MEASURES.SEX' | translate }}</label>
            <select [class.is-invalid]="sexo.invalid && sexo.touched" class="custom-select" id="sexo" formControlName="sexo">
            <option></option>
            <option value="M">{{ 'PAGES.MEASURES.COMBO.MALE_TITLE' | translate }}</option>
            <option value="F">{{ 'PAGES.MEASURES.COMBO.FEMALE_TITLE' | translate }}</option>
            </select>
            <small class="text-danger " *ngIf="sexo.invalid && sexo.touched ">{{ 'VALIDATIONS.MEASURES.SEX' | translate }}</small>
        </div>
        <div class="form-group col-md-3" *ngIf="tienePersona">
            <label>{{ 'PAGES.MEASURES.SEX' | translate }}</label>
            <select class="custom-select" id="sexo" formControlName="sexo" disabled>
            <option></option>
            <option value="M">{{ 'PAGES.MEASURES.COMBO.MALE_TITLE' | translate }}</option>
            <option value="F">{{ 'PAGES.MEASURES.COMBO.FEMALE_TITLE' | translate }}</option>
            </select>
        </div>
        <div class="form-group col-md-3" *ngIf="!tienePersona">
            <label>{{ 'PAGES.MEASURES.AGE' | translate }}</label>
            <input [class.is-invalid]="edad.invalid && edad.touched" type="number" class="form-control" id="edad" formControlName="edad">
            <small class="text-danger " *ngIf="edad.invalid && edad.touched ">{{ 'VALIDATIONS.MEASURES.AGE' | translate }}</small>
        </div>
        <div class="form-group col-md-3" *ngIf="tienePersona">
            <label>{{ 'PAGES.MEASURES.AGE' | translate }}</label>
            <input type="number" class="form-control" id="edad" formControlName="edad" disabled>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.RECOMMENDED_WEIGHT' | translate }}</label>
            <input [class.is-invalid]="pesoRecomendado.invalid && pesoRecomendado.touched" type="number" class="form-control" id="pesoRecomendado" formControlName="pesoRecomendado">
            <small class="text-danger " *ngIf="pesoRecomendado.invalid && pesoRecomendado.touched ">{{ 'VALIDATIONS.MEASURES.RECOMMENDED_WEIGHT' | translate }}</small>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.ACTIVITY_FACTOR' | translate }}</label>
            <select [class.is-invalid]="factoresActividad.invalid && factoresActividad.touched" class="custom-select" formControlName="factoresActividad">
            <option selected></option>
            <option value="L">{{ 'PAGES.MEASURES.COMBO.MILD' | translate }}</option>
            <option value="M">{{ 'PAGES.MEASURES.COMBO.MODERATE' | translate }}</option>
            <option value="F">{{ 'PAGES.MEASURES.COMBO.STRONG' | translate }}</option>
            <option value="MF">{{ 'PAGES.MEASURES.COMBO.VERY_STRONG' | translate }}</option>
          </select>
            <small class="text-danger " *ngIf="factoresActividad.invalid && factoresActividad.touched ">{{ 'VALIDATIONS.MEASURES.ACTIVITY_FACTOR' | translate }}</small>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.DIRECT_METHOD' | translate }}</label>
            <input [class.is-invalid]="kcal.invalid && kcal.touched" type="number" class="form-control" id="kcal" formControlName="kcal">
            <small class="text-danger " *ngIf="kcal.invalid && kcal.touched ">{{ 'VALIDATIONS.MEASURES.DIRECT_METHOD' | translate }}</small>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.PHYSICAL_ACTIVITY_LEVEL' | translate }}</label>
            <select [class.is-invalid]="nivelActividadFisica.invalid && nivelActividadFisica.touched" class="custom-select" id="nivelActividadFisica" formControlName="nivelActividadFisica">
            <option selected>-----</option>
            <option value="L">{{ 'PAGES.MEASURES.COMBO.LIGHT' | translate }}</option>
            <option value="M">{{ 'PAGES.MEASURES.COMBO.MODERATE' | translate }}</option>
            <option value="I">{{ 'PAGES.MEASURES.COMBO.INTENSE' | translate }}</option>
        </select>
            <small class="text-danger " *ngIf="nivelActividadFisica.invalid && nivelActividadFisica.touched ">{{ 'VALIDATIONS.MEASURES.PHYSICAL_ACTIVITY_LEVEL' | translate }}</small>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.FAT_FREE_DOUGH' | translate }}</label>
            <input [class.is-invalid]="masaGrasaKg.invalid && masaGrasaKg.touched" type="number" class="form-control" id="masaGrasaKg" formControlName="masaGrasaKg">
            <small class="text-danger " *ngIf="masaGrasaKg.invalid && masaGrasaKg.touched ">{{ 'VALIDATIONS.MEASURES.FAT_FREE_DOUGH' | translate }}</small>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.ACTUAL_WEIGHT_C_METHOD' | translate }}</label>
            <input [class.is-invalid]="pesoActual.invalid && pesoActual.touched" type="number" class="form-control" id="pesoActual" formControlName="pesoActual">
            <small class="text-danger " *ngIf="pesoActual.invalid && pesoActual.touched ">{{ 'VALIDATIONS.MEASURES.ACTUAL_WEIGHT_C_METHOD' | translate }}</small>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.PHYSICAL_ACTIVITY_TIME' | translate }}</label>
            <input [class.is-invalid]="tiempoActividadFisica.invalid && tiempoActividadFisica.touched" type="number" class="form-control" id="tiempoActividadFisica" formControlName="tiempoActividadFisica">
            <small class="text-danger " *ngIf="tiempoActividadFisica.invalid && tiempoActividadFisica.touched ">{{ 'VALIDATIONS.MEASURES.PHYSICAL_ACTIVITY_TIME' | translate }}</small>
        </div>
        <div class="form-group col-md-3">
            <label>{{ 'PAGES.MEASURES.PHYSICAL_ACTIVITY_METRIC' | translate }}</label>
            <select [class.is-invalid]="met.invalid && met.touched" class="custom-select" formControlName="met" class="form-control">
                <option selected></option>
                <option value="{{met.codigo}}" *ngFor="let met of mets">{{met.descripcion}}</option>
            </select>
            <small class="text-danger " *ngIf="met.invalid && met.touched ">{{ 'VALIDATIONS.MEASURES.PHYSICAL_ACTIVITY_METRIC' | translate }}</small>
        </div>
    </div>
    <button type="submit" [disabled]="reqAdultoForm.invalid" class="btn btn-primary"><i class="fa fa-calculator"></i>{{ 'BUTTON.CALCULATE' | translate }}</button>
</form>
<div *ngIf="respuesta">
    <div *ngIf="requerimientoAdultoRes">
        <div class="form-row">
            <div class="col-md-12">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.TOTAL_CALORIC_REQUIREMENT' | translate }}</b>
            </div>
        </div>
        <br>
        <div class="form-row">
            <div class="col-md-6">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.TRADITIONAL_METHOD' | translate }}</b>
            </div>
            <div class="col-md-6">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.DIRECT_METHOD' | translate }}</b>
            </div>
        </div>
        <br>
        <div class="form-row">
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.RCB' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.mtRCB}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.ADE' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.mtADE}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.RCT' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.mtRCT}}
            </div>
            <div class="col-md-2">
                &nbsp;&nbsp; {{requerimientoAdultoRes.metodoDirecto}}
            </div>
        </div>
        <br>
        <div class="form-row">
            <div class="col-md-4">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.SIMPLIFIED_METHOD' | translate }}</b>
            </div>
            <div class="col-md-8">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.CUNNINGHAM_METHOD' | translate }}</b>
            </div>
        </div>
        <br>
        <div class="form-row">
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.TMB' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.tasaMetabolicaBasal}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.RCT' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.requerimientoCaloricoTotal}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.TMR' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.tasaMetabolicaReposo}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.GEAF' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.gastoEnergeticoActividadFisica}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.ADE' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.accionDinamicaEspecifica}}
            </div>
            <div class="col-md-2">
                <b>{{ 'PAGES.ANSWERS.ADULT_REQUIREMENT.GCT' | translate }}</b> &nbsp;&nbsp; {{requerimientoAdultoRes.gastoCaloricaTotal}}
            </div>
        </div>
        <br>
        <div class="form-row mt-2">
            <div class="col-md-2">
                <button class="btn btn-success" (click)="volver() "><i class="fa fa-backward "></i>&nbsp;&nbsp;{{ 'BUTTON.BACK' | translate }}</button>
            </div>
            <div class="col-md-2">
                <button class="btn btn-success" (click)="imprimirPDF()"><i class="fa fa-file-pdf"></i>&nbsp;{{ 'BUTTON.PRINT' | translate }}</button>
            </div>
            <div class="col-md-2" *ngIf="tienePersona">
                <button class="btn btn-success" (click)="guardarHistorial()"><i class="fa fa-save"></i>&nbsp;{{ 'BUTTON.SAVE_HISTORY' | translate }}</button>
            </div>
        </div>
    </div>
</div>